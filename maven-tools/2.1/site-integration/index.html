<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Maven Site Integration :: maven-plugin docs</title>
    <link rel="prev" href="../plugin/v2-migration-guide.html">
    <link rel="next" href="../project/contributing.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../..">maven-plugin docs</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Community</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="http://discuss.asciidoctor.org" target="_blank">Discuss</a>
            <a class="navbar-item" href="https://gitter.im/asciidoctor/asciidoctor" target="_blank">Chat - General</a>
            <a class="navbar-item" href="https://gitter.im/asciidoctor/asciidoctorj" target="_blank">Chat - Asciidoctor J</a>
          </div>
        </div>
        <a class="navbar-item" href="https://twitter.com/asciidoctor" target="_blank" rel="noopener">
          <span class="icon">
            <svg aria-hidden="true" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
              <path fill="#57aaee" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path>
            </svg>
          </span>
         </a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="maven-tools" data-version="2.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Maven Tools</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Maven Plugin</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../plugin/introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Goals</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../plugin/goals/process-asciidoc.html">process-asciidoc</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../plugin/goals/auto-refresh.html">auto-refresh</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../plugin/goals/http.html">http</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../plugin/usage.html">Usage</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../plugin/command-line-configuration.html">Command Line Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../plugin/examples.html">Examples</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Help &amp; Guides</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../plugin/tips-and-tricks.html">Tips and Tricks</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../plugin/v2-migration-guide.html">v2 migration guide</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Maven Site Integration</span>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="index.html">Setup &amp; Configuration</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Project Documentation</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../project/contributing.html">Contributing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../project/copyright-and-licence.html">Copyright and License</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Maven Tools</span>
    <span class="version">2.1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Maven Tools</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">2.1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Maven Tools</a></li>
    <li>Maven Site Integration</li>
    <li><a href="index.html">Setup &amp; Configuration</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/asciidoctor/asciidoctor-maven-plugin/edit/main/docs/modules/site-integration/pages/index.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">Maven Site Integration</h1>
<div class="sect1">
<h2 id="setup"><a class="anchor" href="#setup"></a>Setup</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To author your Maven-generated site in AsciiDoc, you must first add a dependency on the Asciidoctor plugin to your maven-site-plugin declaration (which more precisely adds a Doxia Parser Module).</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Maven v3.2.1 or above required, and since asciidoctor-maven-plugin v1.5.6 only maven-site-plugin v3.4 or above is supported.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Maven site integration</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;build&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
            &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;
            &lt;version&gt;3.9.1&lt;/version&gt;
            &lt;dependencies&gt;
                &lt;dependency&gt; &lt;!-- Add Asciidoctor Doxia Parser Module --&gt;
                    &lt;groupId&gt;org.asciidoctor&lt;/groupId&gt;
                    &lt;artifactId&gt;asciidoctor-maven-plugin&lt;/artifactId&gt;
                    &lt;version&gt;2.1.0&lt;/version&gt;
                &lt;/dependency&gt;
            &lt;/dependencies&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/build&gt;</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can find a full example in the <a href="https://github.com/asciidoctor/asciidoctor-maven-examples">Asciidoctor Maven examples</a> project.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The Asciidoctor Doxia module follows the maven-site-plugin conventions for file location, and delegates all resource management to it.</p>
</div>
<div class="paragraph">
<p>First, all of your AsciiDoc-based files should be placed in <em class="path">src/site/asciidoc</em> with an extension of <code>.adoc</code>.
These files will be converted into the <em class="path">target/site</em> directory.
For example, the file <em class="path">src/site/asciidoc/usage.adoc</em> will be converted into <em class="path">target/site/usage.html</em>.</p>
</div>
<div class="paragraph">
<p>Then, all resources (images, css, etc.) should be placed in <em class="path">src/site/resources</em>.
These will be automatically copied into <em class="path">target/site</em>.</p>
</div>
<div class="paragraph">
<p>Also, note that AsciiDoc files are converted to embeddable HTML and inserted into the site&#8217;s page layout.
This disables certain features such as the sidebar toc.</p>
</div>
<div class="paragraph">
<p>Make sure you add a <code>menu</code> item for each page so you can access it from the site navigation:</p>
</div>
<div class="listingblock">
<div class="title">site.xml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;body&gt;
    ...
    &lt;menu name="User guide"&gt;
        &lt;item href="usage.html" name="Usage" /&gt;
    &lt;/menu&gt;
    ...
&lt;/body&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuration"><a class="anchor" href="#configuration"></a>Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As of version 1.5.3 of the plugin, you can configure Asciidoctor by specifying configuration properties in the plugin declaration, just like with the other goals of the plugin.
There are two important differences, however.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>All the configuration for Asciidoctor in the site integration must be nested inside an <code>&lt;asciidoc&gt;</code> element.
This is necessary since the <code>&lt;configuration&gt;</code> element is used to configure more than just the Asciidoctor integration.</p>
<div class="paragraph">
<p>Here&#8217;s an example that shows how to set options, attributes and ignore partial AsciiDoc files (i.e., files that begin with an underscore).</p>
</div>
<div class="listingblock">
<div class="title">Maven site integration with Asciidoctor configuration</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;plugin&gt;
    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;
    &lt;version&gt;3.9.0&lt;/version&gt;
    &lt;configuration&gt;
        &lt;asciidoc&gt;
            &lt;templateDirs&gt;
                &lt;dir&gt;src/site/asciidoc/templates&lt;/dir&gt;
            &lt;/templateDirs&gt;
            &lt;requires&gt;
                &lt;require&gt;asciidoctor-diagram&lt;/require&gt;
            &lt;/requires&gt;
            &lt;attributes&gt;
                &lt;source-highlighter&gt;coderay&lt;/source-highlighter&gt;
                &lt;coderay-css&gt;style&lt;/coderay-css&gt;
            &lt;/attributes&gt;
        &lt;/asciidoc&gt;
        &lt;moduleExcludes&gt;
            &lt;asciidoc&gt;**/_*.adoc&lt;/asciidoc&gt;
        &lt;/moduleExcludes&gt;
    &lt;/configuration&gt;
    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.asciidoctor&lt;/groupId&gt;
            &lt;artifactId&gt;asciidoctor-maven-plugin&lt;/artifactId&gt;
            &lt;version&gt;2.1.0&lt;/version&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
&lt;/plugin&gt;</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The Asciidoctor base directory (i.e., document root) is configured as <em class="path">src/site/asciidoc</em> by default, though this can be overridden.
To do so, you can use either maven-site-plugin <code>siteDirectory</code> or Asciidoctor <code>baseDir</code> configuration options.
Note that the first will affect the default resources directory also.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You&#8217;ll notice in the example that excludes have been added for certain AsciiDoc files.
This prevents the site integration from processing partial files (i.e., includes) as individual pages.
You can tune this pattern to your liking.
There&#8217;s currently no way (that we can tell) to configure this automatically.</p>
</div>
</li>
<li>
<p>Not all options found in the asciidoctor-maven-plugin are available in the <code>&lt;asciidoc&gt;</code> element.
This is for simplicity and restrictions in how maven-site-plugin manages resources.</p>
<div class="paragraph">
<p>The supported ones are:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">baseDir</dt>
<dd>
<p>Same as the plugin&#8217;s <code>baseDir</code>.
Sets the root path for resources.
Not set by default, AsciiDoc documents will be searched in <em class="path">src/site/asciidoc</em>.
External resources should be located in <em class="path">src/site/resources</em>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Consider using maven-site-plugin&#8217;s <code>siteDirectory</code> instead for better integration with the site functions (ie. resource copying).
</td>
</tr>
</table>
</div>
</dd>
<dt class="hdlist1">templatesDirs (also template_dirs)</dt>
<dd>
<p>Built-in templates are supported by specifying one or more template directories.
This feature enables you to provide custom templates for converting any node in the tree (e.g., document, section, listing, etc).
Custom templates can be extremely helpful when trying to customize the appearance of your site.
Each path to add should be enclosed in a <code>&lt;dir&gt;</code> element.</p>
</dd>
<dt class="hdlist1">requires</dt>
<dd>
<p>Same as the plugin&#8217;s <code>requires</code>.<br>
Specifies additional Ruby libraries not packaged in AsciidoctorJ, <code>empty</code> by default.</p>
</dd>
<dt class="hdlist1">attributes</dt>
<dd>
<p>Similar to the plugin&#8217;s <code>attributes</code>.<br>
Allows defining a set of Asciidoctor attributes to be passed to the conversion.<br>
In addition to attributes set in this section, Maven properties are also passed as attribute (replacing . by - in the name).
These include those defined in the <code>&lt;properties&gt;</code> section of the project, parent projects and the user&#8217;s <code>settings.xml</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;properties&gt;
  &lt;my-site.version&gt;2.3.0&lt;/my-site.version&gt; <i class="conum" data-value="1"></i><b>(1)</b>
&lt;/properties&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Will be passed as <code>my-site-version</code> to the converter.</td>
</tr>
</table>
</div>
</dd>
<dt class="hdlist1">logHandler</dt>
<dd>
<p>Enables processing of Asciidoctor messages.
For example to hide them, enable finer detail or fail the build on certain scenarios (e.g. missing included files).
To see all options refer to the main plugin <a href="../plugin/goals/http.html#logHandler-configuration" class="page">logHandler configuration</a>.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Due to limitations in how Maven site integration works, it is not possible to provide the filename in the error message.
We are aware this is not ideal and are tracking any development on the Maven side towards this goal (<a href="https://issues.apache.org/jira/browse/DOXIA-555">DOXIA-555</a>).
</td>
</tr>
</table>
</div>
</dd>
</dl>
</div>
</li>
</ol>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="../plugin/v2-migration-guide.html">v2 migration guide</a></span>
  <span class="next"><a href="../project/contributing.html">Contributing</a></span>
</nav>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
